<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="andrew richard">

<title>un-data qmd edition</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="un-data_files/libs/clipboard/clipboard.min.js"></script>
<script src="un-data_files/libs/quarto-html/quarto.js"></script>
<script src="un-data_files/libs/quarto-html/popper.min.js"></script>
<script src="un-data_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="un-data_files/libs/quarto-html/anchor.min.js"></script>
<link href="un-data_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="un-data_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="un-data_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="un-data_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="un-data_files/libs/bootstrap/bootstrap-c0367b04c37547644fece4185067e4a7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">un-data qmd edition</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>andrew richard </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="guided-practice" class="level2">
<h2 class="anchored" data-anchor-id="guided-practice">Guided practice</h2>
<section id="download-the-gross-domestic-product-gdp-per-capita-dataset-from-httpdata.un.orgdata.aspxdwdifindicator_code3any.gdp.pcap.pp.kd.-rename-it-to-gdp_per_capita.csv-and-place-it-in-the-data-folder-of-your-project-repository." class="level4">
<h4 class="anchored" data-anchor-id="download-the-gross-domestic-product-gdp-per-capita-dataset-from-httpdata.un.orgdata.aspxdwdifindicator_code3any.gdp.pcap.pp.kd.-rename-it-to-gdp_per_capita.csv-and-place-it-in-the-data-folder-of-your-project-repository.">1. Download the Gross Domestic Product (GDP) per capita dataset from <a href="http://data.un.org/Data.aspx?d=WDI&amp;f=Indicator_Code%3aNY.GDP.PCAP.PP.KD">http://data.un.org/Data.aspx?d=WDI&amp;f=Indicator_Code%3aNY.GDP.PCAP.PP.KD</a>. Rename it to gdp_per_capita.csv and place it in the <code>data</code> folder of your project repository.</h4>
</section>
<section id="in-the-first-cell-of-your-notebook-import-the-required-packages-with-their-customary-aliases-as-follows" class="level4">
<h4 class="anchored" data-anchor-id="in-the-first-cell-of-your-notebook-import-the-required-packages-with-their-customary-aliases-as-follows">3. In the first cell of your notebook, import the required packages with their customary aliases as follows:</h4>
<div id="68b3164e" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.io <span class="im">as</span> pio</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># in terminal: jupyter nbextension enable --py widgetsnbextension</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>pio.renderers.default <span class="op">=</span> <span class="st">"png"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="using-the-pandas-read_csv-function-read-the-gdp-dataset-into-your-notebook-as-a-dataframe-called-gdp_df.-after-reading-it-in-inspect-the-first-10-rows-and-then-inspect-the-last-10-rows." class="level4">
<h4 class="anchored" data-anchor-id="using-the-pandas-read_csv-function-read-the-gdp-dataset-into-your-notebook-as-a-dataframe-called-gdp_df.-after-reading-it-in-inspect-the-first-10-rows-and-then-inspect-the-last-10-rows.">4. Using the pandas <code>read_csv()</code> function, read the GDP dataset into your notebook as a DataFrame called <code>gdp_df</code>. After reading it in, inspect the first 10 rows and then inspect the last 10 rows.</h4>
<div id="94756fa6" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>gdp_df <span class="op">=</span> pd.DataFrame(pd.read_csv(<span class="st">"../data/gdp_per_capita.csv"</span>))</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>gdp_df.head(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country or Area</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Value</th>
<th data-quarto-table-cell-role="th">Value Footnotes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Afghanistan</td>
<td>2021</td>
<td>1517.016266</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Afghanistan</td>
<td>2020</td>
<td>1968.341002</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Afghanistan</td>
<td>2019</td>
<td>2079.921861</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="drop-the-value-footnotes-column-and-rename-the-remaining-columns-to-country-year-and-gdp_per_capita." class="level4">
<h4 class="anchored" data-anchor-id="drop-the-value-footnotes-column-and-rename-the-remaining-columns-to-country-year-and-gdp_per_capita.">5. Drop the ‘Value Footnotes’ column, and rename the remaining columns to ‘Country’, ‘Year’, and ‘GDP_Per_Capita’.</h4>
<div id="027e5db9" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>gdp_df <span class="op">=</span> gdp_df.drop(columns<span class="op">=</span>[<span class="st">"Value Footnotes"</span>]).rename(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>{<span class="st">"Country or Area"</span>: <span class="st">"Country"</span>, <span class="st">"Value"</span>: <span class="st">"GDP_Per_Capita"</span>}</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>) <span class="co"># .drop() removes value footnotes, and .rename(columns={}) names the columns what we want</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>gdp_df.info() <span class="co"># will show datatypes of each column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 7662 entries, 0 to 7661
Data columns (total 3 columns):
 #   Column          Non-Null Count  Dtype  
---  ------          --------------  -----  
 0   Country         7662 non-null   object 
 1   Year            7662 non-null   int64  
 2   GDP_Per_Capita  7662 non-null   float64
dtypes: float64(1), int64(1), object(1)
memory usage: 179.7+ KB</code></pre>
</div>
</div>
</section>
<section id="how-many-rows-and-columns-does-gdp_df-have-what-are-the-data-types-of-its-columns-if-any-of-the-columns-are-not-the-expected-types-figure-out-why-and-fix-it." class="level4">
<h4 class="anchored" data-anchor-id="how-many-rows-and-columns-does-gdp_df-have-what-are-the-data-types-of-its-columns-if-any-of-the-columns-are-not-the-expected-types-figure-out-why-and-fix-it.">6. How many rows and columns does gdp_df have? What are the data types of its columns? If any of the columns are not the expected types, figure out why and fix it.</h4>
</section>
</section>
<section id="change-the-dtype-of-the-country-column-to-string" class="level1">
<h1>change the dtype of the Country column to string</h1>
<div id="4bc86da6" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>gdp_df[<span class="st">"Country"</span>] <span class="op">=</span> gdp_df[<span class="st">"Country"</span>].astype(<span class="st">"string"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>gdp_df.shape <span class="co"># outputs (rows, columns) </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>(7662, 3)</code></pre>
</div>
</div>
<ul>
<li><strong>there are 7662 rows and 3 columns in the dataframe gdp_df, excluding the index column and header rows. The ‘Country’ column is listed as Object rather than String which indicates more than one data type in the column. Using .astype(‘string’) I can convert the column type to str, although this is not typically necessary in a pandas df</strong></li>
</ul>
<section id="which-years-are-represented-in-this-dataset-take-a-look-at-the-number-of-observations-per-year.-what-do-you-notice" class="level4">
<h4 class="anchored" data-anchor-id="which-years-are-represented-in-this-dataset-take-a-look-at-the-number-of-observations-per-year.-what-do-you-notice">7. Which years are represented in this dataset? Take a look at the number of observations per year. What do you notice?</h4>
</section>
</section>
<section id="see-the-range-of-years" class="level1">
<h1>see the range of years</h1>
<div id="18e1e4ac" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>display(gdp_df[<span class="st">"Year"</span>].value_counts().sort_index())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Year
1990    207
1991    208
1992    210
1993    211
1994    213
1995    223
1996    223
1997    226
1998    226
1999    227
2000    233
2001    234
2002    235
2003    235
2004    236
2005    236
2006    237
2007    237
2008    238
2009    239
2010    239
2011    240
2012    240
2013    242
2014    242
2015    242
2016    242
2017    242
2018    242
2019    242
2020    242
2021    241
2022    232
Name: count, dtype: int64</code></pre>
</div>
</div>
<ul>
<li><strong>There are 33 years represented: 1990 - 2022.</strong> <strong>There are an inconsistent number of measurements taken per year, which indicates a change in the number of countries throughout the time period, or an unmeasured GDP during some years for some countries</strong></li>
</ul>
<section id="how-many-countries-are-represented-in-this-dataset-which-countries-are-least-represented-in-the-dataset-why-do-you-think-these-countries-have-so-few-observations" class="level4">
<h4 class="anchored" data-anchor-id="how-many-countries-are-represented-in-this-dataset-which-countries-are-least-represented-in-the-dataset-why-do-you-think-these-countries-have-so-few-observations">8. How many countries are represented in this dataset? Which countries are least represented in the dataset? Why do you think these countries have so few observations?</h4>
</section>
</section>
<section id="count-the-number-of-unique-years-in-the-country-col" class="level1">
<h1>count the number of unique years in the ‘Country’ col</h1>
<div id="42306fe6" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>display(<span class="ss">f'Number of unique entries in "Country" col = </span><span class="sc">{</span>gdp_df[<span class="st">"Country"</span>]<span class="sc">.</span>nunique()<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>'Number of unique entries in "Country" col = 242'</code></pre>
</div>
</div>
</section>
<section id="get-the-value-counts-for-each-country-and-view-the-least-represented" class="level1">
<h1>get the value counts for each country and view the least represented</h1>
<div id="e0737669" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>gdp_df[<span class="st">"Country"</span>].value_counts().tail(<span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>Country
Nauru                        19
Cayman Islands               16
Kosovo                       15
Sint Maarten (Dutch part)    14
Turks and Caicos Islands     12
Somalia                      10
Djibouti                     10
Name: count, dtype: Int64</code></pre>
</div>
</div>
<ul>
<li><strong>There are 242 uniques values in the ‘Country’ column. Some of these values are not countries, but areas or regions, so it does not match the listed UN member states number of 195.</strong> <strong>The least represented countries are Djibouti, Somalia, and a handful of smaller island nations like the cayman islands and countries like Kosovo which have not been high exporters due to war, famine, territorial disputes with neighboring countries, geographic isolation, or lack of resources, etc.</strong></li>
</ul>
<section id="create-a-new-dataframe-by-subsetting-gdp_df-to-just-the-year-2021.-call-this-new-dataframe-gdp_2021." class="level4">
<h4 class="anchored" data-anchor-id="create-a-new-dataframe-by-subsetting-gdp_df-to-just-the-year-2021.-call-this-new-dataframe-gdp_2021.">9. Create a new dataframe by subsetting <code>gdp_df</code> to just the year 2021. Call this new dataframe <code>gdp_2021</code>.</h4>
</section>
</section>
<section id="use-.loc-to-find-only-the-rows-that-contain-the-year-2021" class="level1">
<h1>use .loc() to find only the rows that contain the year 2021</h1>
<div id="74152ba9" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>gdp_2021 <span class="op">=</span> gdp_df.loc[gdp_df[<span class="st">"Year"</span>] <span class="op">==</span> <span class="dv">2021</span>]</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>display(gdp_2021)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">GDP_Per_Capita</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Afghanistan</td>
<td>2021</td>
<td>1517.016266</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>Africa Eastern and Southern</td>
<td>2021</td>
<td>3519.174840</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">54</td>
<td>Africa Western and Central</td>
<td>2021</td>
<td>4014.607965</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">87</td>
<td>Albania</td>
<td>2021</td>
<td>14595.944386</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">120</td>
<td>Algeria</td>
<td>2021</td>
<td>11029.138782</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7502</td>
<td>Viet Nam</td>
<td>2021</td>
<td>10628.219166</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7535</td>
<td>West Bank and Gaza</td>
<td>2021</td>
<td>5641.044400</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7564</td>
<td>World</td>
<td>2021</td>
<td>17055.357429</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7597</td>
<td>Zambia</td>
<td>2021</td>
<td>3236.788981</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7630</td>
<td>Zimbabwe</td>
<td>2021</td>
<td>2115.144555</td>
</tr>
</tbody>
</table>

<p>241 rows × 3 columns</p>
</div>
</div>
</div>
<section id="use-.describe-to-find-the-summary-statistics-for-gdp-per-capita-in-2021." class="level4">
<h4 class="anchored" data-anchor-id="use-.describe-to-find-the-summary-statistics-for-gdp-per-capita-in-2021.">10. Use <code>.describe()</code> to find the summary statistics for GDP per capita in 2021.</h4>
<div id="f77b81b4" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>gdp_2021[<span class="st">"GDP_Per_Capita"</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>count       241.000000
mean      20711.570080
std       20916.978968
min         714.066712
25%        5044.196028
50%       13754.802423
75%       30974.370692
max      115683.493708
Name: GDP_Per_Capita, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="create-a-histogram-of-gdp-per-capita-numbers-for-2021-you-may-wish-to-adjust-the-number-of-bins-for-your-histogram.-how-would-you-describe-the-shape-of-the-distribution" class="level4">
<h4 class="anchored" data-anchor-id="create-a-histogram-of-gdp-per-capita-numbers-for-2021-you-may-wish-to-adjust-the-number-of-bins-for-your-histogram.-how-would-you-describe-the-shape-of-the-distribution">11. Create a histogram of GDP Per Capita numbers for 2021 (you may wish to adjust the number of bins for your histogram). How would you describe the shape of the distribution?</h4>
<div id="316f03e3" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>gdp_2021_hist <span class="op">=</span> sns.histplot(gdp_2021[<span class="st">"GDP_Per_Capita"</span>], bins<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"GDP Per Capita for the year 2021"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-11-output-1.png" width="397" height="277" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><strong>This is a right skewed histogram with one mode</strong></li>
</ul>
<div id="6622cc03" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>plotly_hist <span class="op">=</span> px.histogram(gdp_2021[<span class="st">'GDP_Per_Capita'</span>],nbins<span class="op">=</span><span class="dv">20</span>, x<span class="op">=</span><span class="st">'GDP_Per_Capita'</span>, title <span class="op">=</span> <span class="st">'GDP Per Capita for 2021'</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>plotly_hist</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-12-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="find-the-top-5-counties-and-bottom-5-countries-by-gdp-per-capita-in-2021." class="level4">
<h4 class="anchored" data-anchor-id="find-the-top-5-counties-and-bottom-5-countries-by-gdp-per-capita-in-2021.">12. Find the top 5 counties and bottom 5 countries by GDP per capita in 2021.</h4>
</section>
</section>
<section id="sort-gdp_2021-by-gdp-per-capita-and-view-the-top-5-countries" class="level1">
<h1>Sort gdp_2021 by GDP per capita and view the top 5 countries</h1>
<div id="4a4cc7d6" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>display(gdp_2021.nlargest(<span class="dv">5</span>, <span class="st">"GDP_Per_Capita"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">GDP_Per_Capita</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">4147</td>
<td>Luxembourg</td>
<td>2021</td>
<td>115683.493708</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6107</td>
<td>Singapore</td>
<td>2021</td>
<td>107741.118436</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3278</td>
<td>Ireland</td>
<td>2021</td>
<td>102785.490239</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5745</td>
<td>Qatar</td>
<td>2021</td>
<td>92862.571798</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">680</td>
<td>Bermuda</td>
<td>2021</td>
<td>78570.489515</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="sort-gdp_2021-by-gdp-per-capita-and-view-the-bottom-5-countries" class="level1">
<h1>Sort gdp_2021 by GDP per capita and view the bottom 5 countries</h1>
<div id="3dc89d3e" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>display(gdp_2021.nsmallest(<span class="dv">5</span>, <span class="st">"GDP_Per_Capita"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">GDP_Per_Capita</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">972</td>
<td>Burundi</td>
<td>2021</td>
<td>714.066712</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1216</td>
<td>Central African Republic</td>
<td>2021</td>
<td>837.504686</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1629</td>
<td>Dem. Rep. Congo</td>
<td>2021</td>
<td>1073.643271</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6272</td>
<td>Somalia</td>
<td>2021</td>
<td>1136.735989</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5073</td>
<td>Niger</td>
<td>2021</td>
<td>1186.576809</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li><strong>The top five countries are Bermuda, Qatar, Ireland, Singapore, and Luxembourg.</strong></li>
<li><strong>The bottom five countries are Burundi, Central African Republic, DRC, Somalia, and Niger.</strong></li>
</ul>
<section id="now-return-to-the-full-dataset-gdp_df.-pivot-the-data-for-1990-and-2021-using-the-pandas-.pivot_table-method-or-another-method-so-that-each-row-corresponds-to-a-country-each-column-corresponds-to-a-year-and-the-values-in-the-table-give-the-gdp_per_capita-amount.-drop-any-rows-that-are-missing-values-for-either-1990-or-2021.-save-the-result-to-a-dataframe-named-gdp_pivoted." class="level4">
<h4 class="anchored" data-anchor-id="now-return-to-the-full-dataset-gdp_df.-pivot-the-data-for-1990-and-2021-using-the-pandas-.pivot_table-method-or-another-method-so-that-each-row-corresponds-to-a-country-each-column-corresponds-to-a-year-and-the-values-in-the-table-give-the-gdp_per_capita-amount.-drop-any-rows-that-are-missing-values-for-either-1990-or-2021.-save-the-result-to-a-dataframe-named-gdp_pivoted.">13. Now, return to the full dataset, <code>gdp_df</code>. Pivot the data for 1990 and 2021 (using the pandas <code>.pivot_table()</code> method or another method) so that each row corresponds to a country, each column corresponds to a year, and the values in the table give the GDP_Per_Capita amount. Drop any rows that are missing values for either 1990 or 2021. Save the result to a dataframe named <code>gdp_pivoted</code>.</h4>
<div id="911d6bc8" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>gdp_pivoted <span class="op">=</span> (</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    gdp_df</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    [gdp_df[<span class="st">"Year"</span>].isin([<span class="dv">1990</span>, <span class="dv">2021</span>])]</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    .pivot_table(</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>        values<span class="op">=</span><span class="st">"GDP_Per_Capita"</span>,</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>        index<span class="op">=</span><span class="st">"Country"</span>,</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>        columns<span class="op">=</span><span class="st">"Year"</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    .dropna()</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>display(gdp_pivoted)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">1990</th>
<th data-quarto-table-cell-role="th">2021</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Africa Eastern and Southern</td>
<td>3037.297466</td>
<td>3519.174840</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Africa Western and Central</td>
<td>2788.301039</td>
<td>4014.607965</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Albania</td>
<td>4827.027705</td>
<td>14595.944386</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Algeria</td>
<td>8828.874473</td>
<td>11029.138782</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Angola</td>
<td>5793.084512</td>
<td>5911.835657</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Vanuatu</td>
<td>2774.138350</td>
<td>2800.493866</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Viet Nam</td>
<td>2099.394649</td>
<td>10628.219166</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">World</td>
<td>9705.981267</td>
<td>17055.357429</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Zambia</td>
<td>2290.039226</td>
<td>3236.788981</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Zimbabwe</td>
<td>2704.757299</td>
<td>2115.144555</td>
</tr>
</tbody>
</table>

<p>206 rows × 2 columns</p>
</div>
</div>
</div>
</section>
<section id="create-a-new-column-in-gdp_pivoted-named-percent_change.-this-column-should-contain-the-percent-change-in-gdp_per_capita-from-1990-to-2021.-hint-percent-change-is-calculated-as-100new-value---old-value-old-value." class="level4">
<h4 class="anchored" data-anchor-id="create-a-new-column-in-gdp_pivoted-named-percent_change.-this-column-should-contain-the-percent-change-in-gdp_per_capita-from-1990-to-2021.-hint-percent-change-is-calculated-as-100new-value---old-value-old-value.">14. Create a new column in <code>gdp_pivoted</code> named <code>Percent_Change</code>. This column should contain the percent change in GDP_Per_Capita from 1990 to 2021. Hint: Percent change is calculated as 100*(New Value - Old Value) / Old Value.</h4>
<div id="bc83c024" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>gdp_pivoted[<span class="st">"Percent Change"</span>] <span class="op">=</span> (</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">100</span> <span class="op">*</span> (gdp_pivoted[<span class="dv">2021</span>] <span class="op">-</span> gdp_pivoted[<span class="dv">1990</span>]) <span class="op">/</span> gdp_pivoted[<span class="dv">1990</span>]</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>display(gdp_pivoted.head(<span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">1990</th>
<th data-quarto-table-cell-role="th">2021</th>
<th data-quarto-table-cell-role="th">Percent Change</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Africa Eastern and Southern</td>
<td>3037.297466</td>
<td>3519.174840</td>
<td>15.865334</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Africa Western and Central</td>
<td>2788.301039</td>
<td>4014.607965</td>
<td>43.980435</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Albania</td>
<td>4827.027705</td>
<td>14595.944386</td>
<td>202.379544</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="how-many-countries-experienced-a-negative-percent-change-in-gdp-per-capita-from-1990-to-2021" class="level4">
<h4 class="anchored" data-anchor-id="how-many-countries-experienced-a-negative-percent-change-in-gdp-per-capita-from-1990-to-2021">15. How many countries experienced a negative percent change in GDP per capita from 1990 to 2021?</h4>
<div id="69d16a31" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>num_countries <span class="op">=</span> (gdp_pivoted[<span class="st">'Percent Change'</span>] <span class="op">&lt;</span> <span class="dv">0</span>).<span class="bu">sum</span>()</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>display(<span class="ss">f'There were </span><span class="sc">{</span>num_countries<span class="sc">}</span><span class="ss"> countries with a negative % change from 1990 to 2021'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>'There were 19 countries with a negative % change from 1990 to 2021'</code></pre>
</div>
</div>
<ul>
<li><strong>There were 19 countries with a negative percent change from 1990 to 2021</strong></li>
</ul>
</section>
<section id="which-country-had-the-highest-change-in-gdp-per-capita-create-a-line-plot-showing-this-countrys-gdp-per-capita-for-all-years-from-1990-to-2022.-create-another-showing-the-country-with-the-second-highest-change-in-gdp.-how-do-the-trends-in-these-countries-compare" class="level4">
<h4 class="anchored" data-anchor-id="which-country-had-the-highest-change-in-gdp-per-capita-create-a-line-plot-showing-this-countrys-gdp-per-capita-for-all-years-from-1990-to-2022.-create-another-showing-the-country-with-the-second-highest-change-in-gdp.-how-do-the-trends-in-these-countries-compare">16. Which country had the highest % change in GDP per capita? Create a line plot showing this country’s GDP per capita for all years from 1990 to 2022. Create another showing the country with the second highest % change in GDP. How do the trends in these countries compare?</h4>
<p><strong>Bonus:</strong> Put both line charts on the same plot.</p>
<ul>
<li><strong>Equatorial Guinea had the highest percent change from 1990 to 2021 with a 1463.08% growth</strong> # determine highest percent change and extract country name</li>
</ul>
<div id="55047276" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>highest_pct_change <span class="op">=</span> gdp_pivoted.nlargest(<span class="dv">1</span>,<span class="st">'Percent Change'</span>).reset_index()[<span class="st">'Country'</span>]</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co"># determine second highest percent change and extract country name </span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>second_pct_change <span class="op">=</span> gdp_pivoted.nlargest(<span class="dv">2</span>,<span class="st">'Percent Change'</span>).nsmallest(<span class="dv">1</span>, <span class="st">'Percent Change'</span>).reset_index()[<span class="st">'Country'</span>]</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co"># extract data corresponding to the countries from gdp_df</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>country_1_data <span class="op">=</span> gdp_df.loc[gdp_df[<span class="st">"Country"</span>] <span class="op">==</span> highest_pct_change[<span class="dv">0</span>]]</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>country_1_data_slice <span class="op">=</span> country_1_data[country_1_data[<span class="st">"Year"</span>].isin(<span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1990</span>, <span class="dv">2023</span>)))]</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>country_2_data <span class="op">=</span> gdp_df.loc[gdp_df[<span class="st">"Country"</span>] <span class="op">==</span> second_pct_change[<span class="dv">0</span>]]</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>country_2_data_slice <span class="op">=</span> country_2_data[country_2_data[<span class="st">"Year"</span>].isin(<span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1990</span>, <span class="dv">2023</span>)))]</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="co"># initialize 3 subplots for both countries independent and together</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">1</span>, ncols<span class="op">=</span><span class="dv">3</span>, sharey<span class="op">=</span><span class="va">True</span>, figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">6</span>))</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>fig.tight_layout()</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Country 1 subplot</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">131</span>)</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Year (1990 - 2022)"</span>)</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"GDP Per Capita($)"</span>)</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>plt.title(highest_pct_change[<span class="dv">0</span>])</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>plt.plot(country_1_data_slice[<span class="st">"Year"</span>], country_1_data_slice[<span class="st">"GDP_Per_Capita"</span>], color<span class="op">=</span><span class="st">'b'</span>)</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Country 2 subplot</span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">132</span>)</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Year (1990 - 2022)"</span>)</span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>plt.title(second_pct_change[<span class="dv">0</span>])</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>plt.plot(country_2_data_slice[<span class="st">"Year"</span>], country_2_data_slice[<span class="st">"GDP_Per_Capita"</span>], color<span class="op">=</span><span class="st">'r'</span>)</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Both countries on the same plot</span></span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>plt.subplot(<span class="dv">133</span>)</span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Year (1990 - 2022)"</span>)</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>plt.title(highest_pct_change[<span class="dv">0</span>] <span class="op">+</span> <span class="st">' &amp; '</span> <span class="op">+</span> second_pct_change[<span class="dv">0</span>])</span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>plt.plot(country_2_data_slice[<span class="st">"Year"</span>],</span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>    country_2_data_slice[<span class="st">"GDP_Per_Capita"</span>],</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"r"</span>,</span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span>second_pct_change[<span class="dv">0</span>])</span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>plt.plot(</span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>    country_1_data_slice[<span class="st">"Year"</span>],</span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a>    country_1_data_slice[<span class="st">"GDP_Per_Capita"</span>],</span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"b"</span>,</span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span>highest_pct_change[<span class="dv">0</span>],</span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a>plt.legend()<span class="op">;</span></span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">"../data/example.svg"</span>, <span class="bu">format</span> <span class="op">=</span> <span class="st">'svg'</span>, dpi <span class="op">=</span> <span class="dv">1200</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-18-output-1.png" width="734" height="449" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><strong>These line graphs show Equatorial Guinea’s astronomical ascent and then rapid decline in GDP per capita, whereas China has had a near exponential increase in GDP per capita continuously increaseing throughout the time period shown on the plot. These are the top two countries in percent change GDP per capita, though the path taken to get from a similar starting point in 1990 to 2018 is very different.</strong></li>
</ul>
<section id="plotly-used-below-for-practice" class="level5">
<h5 class="anchored" data-anchor-id="plotly-used-below-for-practice">Plotly used below for practice</h5>
<div id="b0b08087" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>gdp_df_top_two <span class="op">=</span> gdp_df[gdp_df[<span class="st">'Country'</span>].isin([highest_pct_change[<span class="dv">0</span>], second_pct_change[<span class="dv">0</span>]])].sort_values([<span class="st">'Country'</span>, <span class="st">'Year'</span>])</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>gdp_df_top_two[<span class="st">'Country'</span>] <span class="op">=</span> gdp_df_top_two[<span class="st">'Country'</span>].astype(<span class="st">'category'</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>gdp_df_top_two</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.line(gdp_df_top_two, x<span class="op">=</span><span class="st">'Year'</span>, y<span class="op">=</span><span class="st">'GDP_Per_Capita'</span>, facet_col<span class="op">=</span><span class="st">'Country'</span>, title<span class="op">=</span><span class="st">'Change in GDP per capita 1990 - 2022'</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>fig2 <span class="op">=</span> px.line(gdp_df_top_two, x<span class="op">=</span><span class="st">'Year'</span>, y<span class="op">=</span><span class="st">'GDP_Per_Capita'</span>, color <span class="op">=</span> <span class="st">'Country'</span>, title<span class="op">=</span><span class="st">'Change in GDP per capita 1990 - 2022'</span>) </span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>display(fig)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>display(fig2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-19-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-19-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="read-in-continents.csv-contained-in-the-data-folder-into-a-new-dataframe-called-continents.-we-will-be-using-this-dataframe-to-add-a-new-column-to-our-dataset." class="level4">
<h4 class="anchored" data-anchor-id="read-in-continents.csv-contained-in-the-data-folder-into-a-new-dataframe-called-continents.-we-will-be-using-this-dataframe-to-add-a-new-column-to-our-dataset.">17. Read in continents.csv contained in the <code>data</code> folder into a new dataframe called <code>continents</code>. We will be using this dataframe to add a new column to our dataset.</h4>
<div id="32d85253" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>continents <span class="op">=</span> pd.DataFrame(pd.read_csv(<span class="st">"../data/continents.csv"</span>))</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>display(continents.head(<span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Continent</th>
<th data-quarto-table-cell-role="th">Country</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Asia</td>
<td>Afghanistan</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Europe</td>
<td>Albania</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Africa</td>
<td>Algeria</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="merge-gdp_df-and-continents.-keep-only-the-countries-that-appear-in-both-data-frames.-save-the-result-back-to-gdp_df." class="level4">
<h4 class="anchored" data-anchor-id="merge-gdp_df-and-continents.-keep-only-the-countries-that-appear-in-both-data-frames.-save-the-result-back-to-gdp_df.">18. Merge gdp_df and continents. Keep only the countries that appear in both data frames. Save the result back to gdp_df.</h4>
<div id="ae9d2bef" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># merging the dataframes on the 'Country' column</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>gdp_df <span class="op">=</span> pd.merge(left<span class="op">=</span>gdp_df, right<span class="op">=</span>continents, on<span class="op">=</span><span class="st">"Country"</span>, how<span class="op">=</span><span class="st">"inner"</span>, validate<span class="op">=</span><span class="st">'many_to_one'</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>display(gdp_df.head(<span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">GDP_Per_Capita</th>
<th data-quarto-table-cell-role="th">Continent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Afghanistan</td>
<td>2021</td>
<td>1517.016266</td>
<td>Asia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Afghanistan</td>
<td>2020</td>
<td>1968.341002</td>
<td>Asia</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Afghanistan</td>
<td>2019</td>
<td>2079.921861</td>
<td>Asia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Afghanistan</td>
<td>2018</td>
<td>2060.698973</td>
<td>Asia</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Afghanistan</td>
<td>2017</td>
<td>2096.093111</td>
<td>Asia</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="determine-the-number-of-countries-per-continent.-create-a-bar-chart-showing-this." class="level4">
<h4 class="anchored" data-anchor-id="determine-the-number-of-countries-per-continent.-create-a-bar-chart-showing-this.">19. Determine the number of countries per continent. Create a bar chart showing this.</h4>
<div id="b67b4ca3" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">#y = gdp_df.drop_duplicates(subset="Country")["Continent"].value_counts()</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> (</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    plt.bar(gdp_df.drop_duplicates(subset<span class="op">=</span><span class="st">"Country"</span>)[<span class="st">"Continent"</span>].value_counts().index,</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>            gdp_df.drop_duplicates(subset<span class="op">=</span><span class="st">"Country"</span>)[<span class="st">"Continent"</span>].value_counts(),</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span>[<span class="st">"r"</span>, <span class="st">"y"</span>, <span class="st">"g"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"w"</span>])</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Continent"</span>)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Number of Countries"</span>)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Number of countries in each continent"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-22-output-1.png" width="438" height="309" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<section id="plotly-used-below-for-practice-1" class="level5">
<h5 class="anchored" data-anchor-id="plotly-used-below-for-practice-1">Plotly used below for practice</h5>
<div id="ccb742d7" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> (</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    px.histogram(</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>        gdp_df.drop_duplicates(subset<span class="op">=</span><span class="st">"Country"</span>)[<span class="st">"Continent"</span>],</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">"Continent"</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">"Number of countries in each continent"</span>,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">"Continent"</span>,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    .update_xaxes(categoryorder<span class="op">=</span><span class="st">"total descending"</span>)</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    .update_layout(yaxis_title<span class="op">=</span><span class="st">"Number of countries"</span>)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>fig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-23-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="create-a-seaborn-boxplot-showing-gdp-per-capita-in-2021-split-out-by-continent.-what-do-you-notice" class="level4">
<h4 class="anchored" data-anchor-id="create-a-seaborn-boxplot-showing-gdp-per-capita-in-2021-split-out-by-continent.-what-do-you-notice">20. Create a seaborn boxplot showing GDP per capita in 2021 split out by continent. What do you notice?</h4>
<div id="ba9aba12" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">9</span>,<span class="dv">5</span>))</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span> gdp_df[gdp_df[<span class="st">'Year'</span>]<span class="op">==</span><span class="dv">2021</span>],</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'Continent'</span>,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'GDP_Per_Capita'</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"GDP Per Capita"</span>)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Continent"</span>)</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"2021 GDP Per Capita by Continent"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-24-output-1.png" width="640" height="415" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><strong>every continent has high gdp countries that produce well outside the upper whisker limit</strong></li>
<li><strong>the IQR for Asia, North America, and Europe are much bigger, suggesting more variability in the GDP per capita on those continents</strong></li>
<li><strong>Africa, Oceania, and South America have smaller IQR and range in general indicating less variability in the AGDP for those continents</strong></li>
</ul>
<section id="plotly-used-below-for-practice-2" class="level5">
<h5 class="anchored" data-anchor-id="plotly-used-below-for-practice-2">Plotly used below for practice</h5>
<div id="049ab521" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> (</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    px.box(gdp_df[gdp_df[<span class="st">'Year'</span>]<span class="op">==</span><span class="dv">2021</span>],</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>           x<span class="op">=</span><span class="st">'Continent'</span>,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>           y<span class="op">=</span><span class="st">'GDP_Per_Capita'</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>           title<span class="op">=</span><span class="st">'2021 GDP per capita by continent'</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>           color<span class="op">=</span><span class="st">'Continent'</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    .update_xaxes(categoryorder<span class="op">=</span><span class="st">'total ascending'</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    .update_layout(yaxis_title<span class="op">=</span><span class="st">"GDP per capita"</span>)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-25-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="download-the-full-csv-containing-life-expectancy-at-birth-total-years-from-httpsdata.worldbank.orgindicatorsp.dyn.le00.inname_descfalse.-read-this-data-into-a-dataframe-named-life_expectancy.-note-when-reading-this-dataset-it-you-may-encounter-an-error.-modify-your-read_csv-call-to-correct-this-without-modifying-the-original-csv-file." class="level4">
<h4 class="anchored" data-anchor-id="download-the-full-csv-containing-life-expectancy-at-birth-total-years-from-httpsdata.worldbank.orgindicatorsp.dyn.le00.inname_descfalse.-read-this-data-into-a-dataframe-named-life_expectancy.-note-when-reading-this-dataset-it-you-may-encounter-an-error.-modify-your-read_csv-call-to-correct-this-without-modifying-the-original-csv-file.">21. Download the full csv containing Life expectancy at birth, total (years) from <a href="https://data.worldbank.org/indicator/SP.DYN.LE00.IN?name_desc=false">https://data.worldbank.org/indicator/SP.DYN.LE00.IN?name_desc=false</a>. Read this data into a DataFrame named <code>life_expectancy</code>. Note: When reading this dataset it, you may encounter an error. Modify your <code>read_csv</code> call to correct this <strong>without modifying the original csv file</strong>.</h4>
<div id="b771d408" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>life_expectancy <span class="op">=</span> pd.read_csv(</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"../data/Life expectancy at birth/API_SP.DYN.LE00.IN_DS2_en_csv_v2_31632.csv"</span>,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    header<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="drop-the-country-code-indicator-name-and-indicator-code-columns.-then-use-.melt-to-convert-your-data-from-wide-to-long.-that-is-instead-of-having-one-row-per-country-and-multiple-colums-per-year-we-want-to-have-multiple-rows-per-country-and-a-single-column-for-year.-after-melting-rename-the-columns-to-country-year-and-life_expectancy." class="level4">
<h4 class="anchored" data-anchor-id="drop-the-country-code-indicator-name-and-indicator-code-columns.-then-use-.melt-to-convert-your-data-from-wide-to-long.-that-is-instead-of-having-one-row-per-country-and-multiple-colums-per-year-we-want-to-have-multiple-rows-per-country-and-a-single-column-for-year.-after-melting-rename-the-columns-to-country-year-and-life_expectancy.">22. Drop the Country Code, Indicator Name, and Indicator Code columns. Then use <a href="https://pandas.pydata.org/docs/reference/api/pandas.melt.html"><code>.melt()</code></a> to convert your data from wide to long. That is, instead of having one row per country and multiple colums per year, we want to have multiple rows per country and a single column for year. After melting, rename the columns to <code>Country</code>, <code>Year</code>, and <code>Life_Expectancy</code>.</h4>
<div id="b568fd42" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># drop undesired columns, melt to make data long, rename columns, and sort</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>life_expectancy <span class="op">=</span> (</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    life_expectancy.drop(</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>        columns<span class="op">=</span>[<span class="st">"Country Code"</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Indicator Name"</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Indicator Code"</span>]</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>                 )</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    .melt(</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>        id_vars<span class="op">=</span><span class="st">"Country Name"</span>,</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>        var_name<span class="op">=</span><span class="st">"Year"</span>,</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>        value_name<span class="op">=</span><span class="st">"Life Expectancy"</span>,</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>    .rename(</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>        columns<span class="op">=</span>{<span class="st">"Country Name"</span>: <span class="st">"Country"</span>})</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>    .sort_values(</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>        [<span class="st">"Country"</span>, <span class="st">"Year"</span>])</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>display(life_expectancy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Life Expectancy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Afghanistan</td>
<td>1960</td>
<td>32.535</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">268</td>
<td>Afghanistan</td>
<td>1961</td>
<td>33.068</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">534</td>
<td>Afghanistan</td>
<td>1962</td>
<td>33.547</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">800</td>
<td>Afghanistan</td>
<td>1963</td>
<td>34.016</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1066</td>
<td>Afghanistan</td>
<td>1964</td>
<td>34.494</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16225</td>
<td>Zimbabwe</td>
<td>2020</td>
<td>61.124</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16491</td>
<td>Zimbabwe</td>
<td>2021</td>
<td>59.253</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16757</td>
<td>Zimbabwe</td>
<td>2022</td>
<td>59.391</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17023</td>
<td>Zimbabwe</td>
<td>2023</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17289</td>
<td>Zimbabwe</td>
<td>Unnamed: 68</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>17290 rows × 3 columns</p>
</div>
</div>
</div>
</section>
<section id="what-was-the-first-country-with-a-life-expectancy-to-exceed-80" class="level4">
<h4 class="anchored" data-anchor-id="what-was-the-first-country-with-a-life-expectancy-to-exceed-80">23. What was the first country with a life expectancy to exceed 80?</h4>
<div id="0b67b257" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sort by year and find the first value that is &gt;= 80</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>display( </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    life_expectancy.sort_values([<span class="st">"Year"</span>])</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    .loc[life_expectancy[<span class="st">"Life Expectancy"</span>] <span class="op">&gt;=</span> <span class="dv">80</span>]</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    .iloc[<span class="dv">0</span>]</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Country                Japan
Year                    1996
Life Expectancy    80.219756
Name: 9695, dtype: object</code></pre>
</div>
</div>
<ul>
<li><strong>The first country to have a life expectancy &gt;= 80 was Japan in 1996.</strong></li>
</ul>
</section>
<section id="merge-gdp_df-and-life_expectancy-keeping-all-countries-and-years-that-appear-in-both-dataframes.-save-the-result-to-a-new-dataframe-named-gdp_le.-if-you-get-any-errors-in-doing-this-read-them-carefully-and-correct-them.-look-at-the-first-five-rows-of-your-new-data-frame-to-confirm-it-merged-correctly.-also-check-the-last-five-rows-to-make-sure-the-data-is-clean-and-as-expected." class="level4">
<h4 class="anchored" data-anchor-id="merge-gdp_df-and-life_expectancy-keeping-all-countries-and-years-that-appear-in-both-dataframes.-save-the-result-to-a-new-dataframe-named-gdp_le.-if-you-get-any-errors-in-doing-this-read-them-carefully-and-correct-them.-look-at-the-first-five-rows-of-your-new-data-frame-to-confirm-it-merged-correctly.-also-check-the-last-five-rows-to-make-sure-the-data-is-clean-and-as-expected.">24. Merge <code>gdp_df</code> and <code>life_expectancy</code>, keeping all countries and years that appear in both DataFrames. Save the result to a new DataFrame named <code>gdp_le</code>. If you get any errors in doing this, read them carefully and correct them. Look at the first five rows of your new data frame to confirm it merged correctly. Also, check the last five rows to make sure the data is clean and as expected.</h4>
<div id="b0051531" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean up dfs to merge</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>life_expectancy <span class="op">=</span> life_expectancy.dropna()</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>life_expectancy[<span class="st">"Year"</span>] <span class="op">=</span> pd.to_numeric(life_expectancy[<span class="st">"Year"</span>])</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co"># merge the dfs on the two columns, keeping only values in both dfs.</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>gdp_le <span class="op">=</span> pd.merge(gdp_df, life_expectancy, on<span class="op">=</span>[<span class="st">"Country"</span>, <span class="st">"Year"</span>], how<span class="op">=</span><span class="st">"inner"</span>)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co">#export to csv</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>gdp_le.to_csv(<span class="st">"../data/gdp_le.csv"</span>)</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>display(gdp_le.head(), gdp_le.tail())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">GDP_Per_Capita</th>
<th data-quarto-table-cell-role="th">Continent</th>
<th data-quarto-table-cell-role="th">Life Expectancy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Afghanistan</td>
<td>2021</td>
<td>1517.016266</td>
<td>Asia</td>
<td>61.982</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Afghanistan</td>
<td>2020</td>
<td>1968.341002</td>
<td>Asia</td>
<td>62.575</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Afghanistan</td>
<td>2019</td>
<td>2079.921861</td>
<td>Asia</td>
<td>63.565</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Afghanistan</td>
<td>2018</td>
<td>2060.698973</td>
<td>Asia</td>
<td>63.081</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Afghanistan</td>
<td>2017</td>
<td>2096.093111</td>
<td>Asia</td>
<td>63.016</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">GDP_Per_Capita</th>
<th data-quarto-table-cell-role="th">Continent</th>
<th data-quarto-table-cell-role="th">Life Expectancy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">5499</td>
<td>Zimbabwe</td>
<td>1994</td>
<td>2670.106615</td>
<td>Africa</td>
<td>52.588</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5500</td>
<td>Zimbabwe</td>
<td>1993</td>
<td>2458.783255</td>
<td>Africa</td>
<td>54.426</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5501</td>
<td>Zimbabwe</td>
<td>1992</td>
<td>2468.278257</td>
<td>Africa</td>
<td>56.435</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5502</td>
<td>Zimbabwe</td>
<td>1991</td>
<td>2781.787843</td>
<td>Africa</td>
<td>58.091</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5503</td>
<td>Zimbabwe</td>
<td>1990</td>
<td>2704.757299</td>
<td>Africa</td>
<td>59.426</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li><strong>After dropping NaNs and changing columns to the appropriate datatypes, the two dataframes are merged and the resulting df looks clean at head and tail.</strong></li>
</ul>
</section>
<section id="create-a-new-dataframe-named-gdp_le_2021-by-extracting-data-for-the-year-2021-from-gdp_le.-how-many-countries-have-a-life-expectancy-of-at-least-80-in-2021" class="level4">
<h4 class="anchored" data-anchor-id="create-a-new-dataframe-named-gdp_le_2021-by-extracting-data-for-the-year-2021-from-gdp_le.-how-many-countries-have-a-life-expectancy-of-at-least-80-in-2021">25. Create a new DataFrame, named <code>gdp_le_2021</code> by extracting data for the year 2021 from <code>gdp_le</code>. How many countries have a life expectancy of at least 80 in 2021?</h4>
<div id="3b07c56d" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Slice the year 2021</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>gdp_le_2021 <span class="op">=</span> gdp_le[gdp_le[<span class="st">"Year"</span>].isin([<span class="dv">2021</span>])].copy()</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># .copy() makes this it's own dataframe so it no longer references the old dataframe object. </span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co"># slice life expectancy &gt; 80</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>display(gdp_le_2021.loc[gdp_le_2021[<span class="st">"Life Expectancy"</span>] <span class="op">&gt;=</span> <span class="dv">80</span>].count()[<span class="st">'Country'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>np.int64(31)</code></pre>
</div>
</div>
<ul>
<li><strong>31 countries have a life expectancy of at least 80 in 2021</strong></li>
</ul>
</section>
<section id="find-the-countries-that-had-the-top-3-largest-gdp-per-capita-figures-for-2021.-create-a-seaborn-facetgrid-showing-the-change-in-life-expectancy-over-time-for-these-three-countries.-each-individual-figure-in-the-facet-grid-will-represent-a-single-country." class="level4">
<h4 class="anchored" data-anchor-id="find-the-countries-that-had-the-top-3-largest-gdp-per-capita-figures-for-2021.-create-a-seaborn-facetgrid-showing-the-change-in-life-expectancy-over-time-for-these-three-countries.-each-individual-figure-in-the-facet-grid-will-represent-a-single-country.">26. Find the countries that had the top 3 largest GDP per capita figures for 2021. Create a <a href="https://seaborn.pydata.org/generated/seaborn.FacetGrid.html">seaborn FacetGrid</a> showing the change in life expectancy over time for these three countries. Each individual figure in the facet grid will represent a single country.</h4>
<ul>
<li><strong>the countries with the 3 largest GDP per capita in 2021 were Luxembourg, Singapore, and Ireland</strong></li>
</ul>
<div id="89be7419" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># find the countries with the 3 largest GDP per capita in 2021</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="co"># display(gdp_le_2021.nlargest(3, "GDP_Per_Capita"))</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>top_three_gdp <span class="op">=</span> gdp_le_2021.nlargest(<span class="dv">3</span>, <span class="st">"GDP_Per_Capita"</span>)[<span class="st">'Country'</span>]</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="co"># slice out the desired countries into a new dataframe to plot</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>top_three_countries_le_df <span class="op">=</span> life_expectancy[</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    life_expectancy[<span class="st">"Country"</span>].isin(top_three_gdp)]</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="co"># create seaborn facet grid for the ∆LE over time for top three countries</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>grid <span class="op">=</span>(</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>    sns.FacetGrid(top_three_countries_le_df,</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>                  col<span class="op">=</span><span class="st">"Country"</span>)</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>    .map_dataframe(sns.lineplot,</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>                   x<span class="op">=</span><span class="st">"Year"</span>,</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>                   y<span class="op">=</span><span class="st">"Life Expectancy"</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>plt.subplots_adjust(top<span class="op">=</span><span class="fl">0.85</span>)</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Change in life expectancy over time"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-31-output-1.png" width="640" height="214" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<section id="plotly-used-below-for-practice." class="level5">
<h5 class="anchored" data-anchor-id="plotly-used-below-for-practice.">Plotly used below for practice.</h5>
<div id="ebe220f4" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>top_three_countries_le_df <span class="op">=</span> top_three_countries_le_df.reset_index()</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> (</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    px.line(top_three_countries_le_df,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="st">'Year'</span>,</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="st">'Life Expectancy'</span>,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>            facet_col<span class="op">=</span><span class="st">'Country'</span>,</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span><span class="st">'Country'</span>,</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>            title<span class="op">=</span><span class="st">'2021 Three largest GDP per Capita - Life Expectancy'</span>)</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>fig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-32-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="create-a-scatter-plot-of-life-expectancy-vs-gdp-per-capita-for-the-year-2021.-what-do-you-notice" class="level4">
<h4 class="anchored" data-anchor-id="create-a-scatter-plot-of-life-expectancy-vs-gdp-per-capita-for-the-year-2021.-what-do-you-notice">27. Create a scatter plot of Life Expectancy vs GDP per Capita for the year 2021. What do you notice?</h4>
<div id="fccc56bc" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(gdp_le_2021, x<span class="op">=</span><span class="st">"GDP_Per_Capita"</span>, y<span class="op">=</span><span class="st">"Life Expectancy"</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"GDP per capita vs Life Expectancy (2021)"</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"GDP per capita ($)"</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Life Expectancy (yrs)"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-33-output-1.png" width="397" height="277" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><strong>The scatterplot indicates a positive association between GDP per capita and life expectancy that takes on a vaguely logarithmic shape, meaning that generally as one goes up the other also goes up, but there is a ceiling around 85 years where countries’ GDP per capita can continue to increase, but the life expectancy rate of increase decreases. There can be no causation inferred from this data alone.</strong></li>
</ul>
<section id="plotly-used-below-for-practice-3" class="level5">
<h5 class="anchored" data-anchor-id="plotly-used-below-for-practice-3">Plotly used below for practice</h5>
<div id="05bde85f" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> (</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    px.scatter(gdp_le_2021,</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>               x<span class="op">=</span><span class="st">"GDP_Per_Capita"</span>,</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>               y<span class="op">=</span><span class="st">"Life Expectancy"</span>,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>               title<span class="op">=</span><span class="st">'GDP per capita vs. Life Expectancy (2021)'</span>,</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>               color<span class="op">=</span><span class="st">'Life Expectancy'</span>,</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>               hover_data<span class="op">=</span>[<span class="st">"GDP_Per_Capita"</span>, <span class="st">"Life Expectancy"</span>, <span class="st">"Country"</span>])</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>    .update_layout(xaxis_title<span class="op">=</span><span class="st">"GDP per capita"</span>)</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>fig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-34-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="find-the-correlation-between-life-expectancy-and-gdp-per-capita-for-the-year-2021.-what-is-the-meaning-of-this-number" class="level4">
<h4 class="anchored" data-anchor-id="find-the-correlation-between-life-expectancy-and-gdp-per-capita-for-the-year-2021.-what-is-the-meaning-of-this-number">28. Find the correlation between Life Expectancy and GDP per Capita for the year 2021. What is the meaning of this number?</h4>
<div id="a4fca25a" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"correlation = "</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> <span class="bu">str</span>(gdp_le_2021[<span class="st">"GDP_Per_Capita"</span>]</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>          .corr(gdp_le_2021[<span class="st">"Life Expectancy"</span>]))</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>correlation = 0.7450812403297986</code></pre>
</div>
</div>
<ul>
<li><strong>Correlation (R) is a value between -1 and 1 which indicates the strength and type of association between two variables. A correlation of 0.745… indicates a moderately strong positive association between GDP per capita and life expectancy, meaning it is highly likely that to some extent, as one of those variables increases, so will the other.</strong></li>
</ul>
</section>
<section id="add-a-column-to-gdp_le_2021-and-calculate-the-logarithm-of-gdp-per-capita.-find-the-correlation-between-the-log-of-gdp-per-capita-and-life-expectancy.-how-does-this-compare-to-the-calculation-in-the-previous-part-look-at-a-scatter-plot-to-see-if-the-result-of-this-calculation-makes-sense." class="level4">
<h4 class="anchored" data-anchor-id="add-a-column-to-gdp_le_2021-and-calculate-the-logarithm-of-gdp-per-capita.-find-the-correlation-between-the-log-of-gdp-per-capita-and-life-expectancy.-how-does-this-compare-to-the-calculation-in-the-previous-part-look-at-a-scatter-plot-to-see-if-the-result-of-this-calculation-makes-sense.">29. Add a column to <code>gdp_le_2021</code> and calculate the logarithm of GDP per capita. Find the correlation between the log of GDP per capita and life expectancy. How does this compare to the calculation in the previous part? Look at a scatter plot to see if the result of this calculation makes sense.</h4>
<div id="52ef28fc" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add column: Log(GDP per Capita)</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>gdp_le_2021[<span class="st">"Log(GDP/Cap)"</span>] <span class="op">=</span> np.log(gdp_le_2021[<span class="st">"GDP_Per_Capita"</span>])</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> gdp_le_2021[<span class="st">"Log(GDP/Cap)"</span>].corr(gdp_le_2021[<span class="st">"Life Expectancy"</span>])</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"correlation = "</span> <span class="op">+</span> <span class="bu">str</span>(R))</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>log_gdp_vs_le <span class="op">=</span> sns.scatterplot(gdp_le_2021, x<span class="op">=</span><span class="st">"Log(GDP/Cap)"</span>, y<span class="op">=</span><span class="st">"Life Expectancy"</span>)</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Log(GDP per capita) vs Life Expectancy (2021)"</span>)</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Log(GDP per capita) ($)"</span>)</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Life Expectancy (yrs)"</span>)</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>plt.text(<span class="dv">7</span>, <span class="dv">80</span>, <span class="st">"R = "</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">round</span>(R, <span class="dv">4</span>)))<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>correlation = 0.8465749797261862</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-36-output-2.png" width="382" height="277" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><strong>This correlation of 0.847 is even stronger than the previous correlation, meaning there is an even higher association between the log(gdp per capita) and life expectancy than just gdp per capita and L.E. The scatter plot shows a more linear trend that is positively associated and fairly strong.</strong></li>
</ul>
<section id="plotly-used-below-for-practice-4" class="level5">
<h5 class="anchored" data-anchor-id="plotly-used-below-for-practice-4">Plotly used below for practice</h5>
<div id="cea3bf1d" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> (</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    px.scatter(gdp_le_2021,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>               x<span class="op">=</span><span class="st">"Log(GDP/Cap)"</span>,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>               y<span class="op">=</span><span class="st">"Life Expectancy"</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>               title<span class="op">=</span><span class="st">'Log(GDP per capita) vs. Life Expectancy (2021)'</span>,</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>               color<span class="op">=</span><span class="st">'Life Expectancy'</span>,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>               hover_data<span class="op">=</span>[<span class="st">"Log(GDP/Cap)"</span>, <span class="st">"Life Expectancy"</span>, <span class="st">"Country"</span>],</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>               trendline<span class="op">=</span><span class="st">'ols'</span>)</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>fig.add_annotation(x<span class="op">=</span><span class="fl">11.75</span>, y<span class="op">=</span><span class="dv">75</span>, text<span class="op">=</span><span class="st">"R = "</span> <span class="op">+</span> <span class="bu">str</span>(<span class="bu">round</span>(R, <span class="dv">4</span>)), showarrow<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>display(fig)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-37-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="bonus-solo-exploration" class="level2">
<h2 class="anchored" data-anchor-id="bonus-solo-exploration">Bonus: Solo Exploration:</h2>
<section id="choose-and-download-another-data-set-from-the-un-data-httpdata.un.orgexplorer.aspx-to-explore.-you-may-want-to-combine-your-new-dataset-with-one-or-both-of-the-datasets-that-you-already-worked-with.-report-any-interesting-correlations-or-trends-that-you-find." class="level4">
<h4 class="anchored" data-anchor-id="choose-and-download-another-data-set-from-the-un-data-httpdata.un.orgexplorer.aspx-to-explore.-you-may-want-to-combine-your-new-dataset-with-one-or-both-of-the-datasets-that-you-already-worked-with.-report-any-interesting-correlations-or-trends-that-you-find.">1. Choose and download another data set from the UN data <a href="http://data.un.org/Explorer.aspx">http://data.un.org/Explorer.aspx</a> to explore. You may want to combine your new dataset with one or both of the datasets that you already worked with. Report any interesting correlations or trends that you find.</h4>
<div id="23b62114" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>financial_df <span class="op">=</span> pd.DataFrame(pd.read_csv(<span class="st">'../data/UNdata_Export_20241010_220413212.csv'</span>,</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>                                        dtype<span class="op">=</span>{<span class="st">'Year'</span>:<span class="st">'int16'</span>, <span class="st">'Country or Area'</span>:<span class="st">'category'</span>,</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>                                               <span class="st">'Description'</span>:<span class="st">'category'</span>, <span class="st">'Magnitude'</span>:<span class="st">'category'</span>},</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>                                        usecols<span class="op">=</span><span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">6</span>))).rename(columns<span class="op">=</span>{<span class="st">'Country or Area'</span>:<span class="st">'Country'</span>, <span class="st">'Magnitude'</span>:<span class="st">'Currency'</span>})</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>display(financial_df.head())</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>financial_df.info()</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>financial_df.shape</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>financial_df.describe()</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>financial_df</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>net_worth_global <span class="op">=</span> financial_df[financial_df[<span class="st">'Description'</span>].isin([<span class="st">'NET WORTH'</span>, <span class="st">'NET FINANCIAL WORTH [62-63]'</span>])].sort_values(<span class="st">'Value'</span>)</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>net_worth_global</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Description</th>
<th data-quarto-table-cell-role="th">Currency</th>
<th data-quarto-table-cell-role="th">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>AUSTRALIA</td>
<td>2008</td>
<td>SHARES AND OTHER EQUITY</td>
<td>AUSTRALIAN DOLLA</td>
<td>250454000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>AUSTRALIA</td>
<td>2008</td>
<td>SHARES AND OTHER EQUITY</td>
<td>AUSTRALIAN DOLLA</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>AUSTRALIA</td>
<td>2008</td>
<td>SECURITIES OTHER THAN SHARES</td>
<td>AUSTRALIAN DOLLA</td>
<td>60004000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>AUSTRALIA</td>
<td>2008</td>
<td>SECURITIES OTHER THAN SHARES</td>
<td>AUSTRALIAN DOLLA</td>
<td>136113000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>AUSTRALIA</td>
<td>2008</td>
<td>OTHER ACCOUNTS RECEIVABLE</td>
<td>AUSTRALIAN DOLLA</td>
<td>63428000000</td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 5926 entries, 0 to 5925
Data columns (total 5 columns):
 #   Column       Non-Null Count  Dtype   
---  ------       --------------  -----   
 0   Country      5926 non-null   category
 1   Year         5926 non-null   int16   
 2   Description  5926 non-null   category
 3   Currency     5926 non-null   category
 4   Value        5926 non-null   int64   
dtypes: category(3), int16(1), int64(1)
memory usage: 77.1 KB</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="37">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Description</th>
<th data-quarto-table-cell-role="th">Currency</th>
<th data-quarto-table-cell-role="th">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">3648</td>
<td>JAPAN</td>
<td>2006</td>
<td>NET FINANCIAL WORTH [62-63]</td>
<td>YEN</td>
<td>-427874000000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3654</td>
<td>JAPAN</td>
<td>2005</td>
<td>NET FINANCIAL WORTH [62-63]</td>
<td>YEN</td>
<td>-424368000000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3642</td>
<td>JAPAN</td>
<td>2007</td>
<td>NET FINANCIAL WORTH [62-63]</td>
<td>YEN</td>
<td>-414480000000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3660</td>
<td>JAPAN</td>
<td>2004</td>
<td>NET FINANCIAL WORTH [62-63]</td>
<td>YEN</td>
<td>-412032000000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3666</td>
<td>JAPAN</td>
<td>2003</td>
<td>NET FINANCIAL WORTH [62-63]</td>
<td>YEN</td>
<td>-375120000000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3653</td>
<td>JAPAN</td>
<td>2005</td>
<td>NET WORTH</td>
<td>YEN</td>
<td>49262500000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3641</td>
<td>JAPAN</td>
<td>2007</td>
<td>NET WORTH</td>
<td>YEN</td>
<td>63961900000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3665</td>
<td>JAPAN</td>
<td>2003</td>
<td>NET WORTH</td>
<td>YEN</td>
<td>79529900000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3671</td>
<td>JAPAN</td>
<td>2002</td>
<td>NET WORTH</td>
<td>YEN</td>
<td>99158700000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3677</td>
<td>JAPAN</td>
<td>2001</td>
<td>NET WORTH</td>
<td>YEN</td>
<td>132390000000000</td>
</tr>
</tbody>
</table>

<p>330 rows × 5 columns</p>
</div>
</div>
</div>
</section>
<section id="if-time-allows-check-out-the-plotly-library-to-add-additional-interativity-to-your-plots.-httpsplotly.compythonplotly-express." class="level4">
<h4 class="anchored" data-anchor-id="if-time-allows-check-out-the-plotly-library-to-add-additional-interativity-to-your-plots.-httpsplotly.compythonplotly-express.">2. If time allows, check out the plotly library to add additional interativity to your plots. <a href="https://plotly.com/python/plotly-express/">https://plotly.com/python/plotly-express/</a>.</h4>
</section>
</section>
<section id="un-data-exploration-bonus-questions" class="level2">
<h2 class="anchored" data-anchor-id="un-data-exploration-bonus-questions">UN Data Exploration Bonus Questions</h2>
<section id="lets-compare-the-median-life-expectacy-for-each-across-all-of-the-years-of-data-that-we-have.-perform-a-groupby-on-both-year-and-continent-and-then-aggregate-using-the-median-and-save-the-results-to-a-new-object." class="level4">
<h4 class="anchored" data-anchor-id="lets-compare-the-median-life-expectacy-for-each-across-all-of-the-years-of-data-that-we-have.-perform-a-groupby-on-both-year-and-continent-and-then-aggregate-using-the-median-and-save-the-results-to-a-new-object.">1. Let’s compare the median life expectacy for each across all of the years of data that we have. Perform a groupby on both Year and Continent and then aggregate using the median and save the results to a new object.</h4>
<pre><code>a. What type of object results from this?  
b. Look at the index of the resulting object. What do you notice about it?  
c. Use .loc to select the median life expectancy for Asia in 2010.  
d. Use .loc to select the median life expectancy for both Asia and Africa in 2010.  
e. Use .loc to select the values for all continents for the year 2010.  
f. Use .loc to select the median life expectancy for Asia across all years. Hint: One way to do this is to use the swaplevels method.  </code></pre>
</section>
</section>
</section>
<section id="clean-up-dfs-for-merge" class="level1">
<h1>Clean up dfs for merge</h1>
<div id="d8a789e4" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>life_expectancy <span class="op">=</span> life_expectancy.dropna()</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>life_expectancy[<span class="st">"Year"</span>] <span class="op">=</span> pd.to_numeric(life_expectancy[<span class="st">"Year"</span>])</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="co"># merge the dfs on the two columns, keeping only values in both dfs.</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>life_exp_cont <span class="op">=</span> pd.merge(life_expectancy, continents, on<span class="op">=</span><span class="st">"Country"</span>, how<span class="op">=</span><span class="st">"inner"</span>)</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by year and continent and aggregate median on life expectancy</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>medians_le <span class="op">=</span> life_exp_cont.groupby([<span class="st">"Year"</span>, <span class="st">"Continent"</span>])[<span class="st">"Life Expectancy"</span>].median()</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>display(<span class="bu">type</span>(medians_le))</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at the index</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>medians_le.index</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a><span class="co"># median le for asia 2010</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(medians_le.loc[(<span class="dv">2010</span>, <span class="st">"Asia"</span>)])</span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a><span class="co"># median le for asia and africa in 2010</span></span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>display(medians_le.loc[[(<span class="dv">2010</span>, <span class="st">"Asia"</span>), (<span class="dv">2010</span>, <span class="st">"Africa"</span>)]])</span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a><span class="co"># all continents 2010</span></span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>display(medians_le.loc[(<span class="dv">2010</span>)])</span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a><span class="co"># median for asia across all years</span></span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>medians_le.swaplevel().loc[<span class="st">"Asia"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>pandas.core.series.Series</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>71.879</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>Year  Continent
2010  Asia         71.879
      Africa       58.367
Name: Life Expectancy, dtype: float64</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>Continent
Africa           58.367000
Asia             71.879000
Europe           78.481415
North America    74.454000
Oceania          68.030000
South America    73.711000
Name: Life Expectancy, dtype: float64</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>Year
1960    50.6825
1961    52.3640
1962    53.6970
1963    53.8930
1964    54.4120
         ...   
2018    73.9715
2019    74.2105
2020    73.2720
2021    72.4610
2022    73.8165
Name: Life Expectancy, Length: 63, dtype: float64</code></pre>
</div>
</div>
<section id="group-gdp_le-by-both-year-and-continent-and-find-the-min-median-and-max-values-for-both-gdp-per-capita-and-life-expectancy.-hint-you-may-want-to-use-the-agg-method." class="level4">
<h4 class="anchored" data-anchor-id="group-gdp_le-by-both-year-and-continent-and-find-the-min-median-and-max-values-for-both-gdp-per-capita-and-life-expectancy.-hint-you-may-want-to-use-the-agg-method.">2. Group gdp_le by both Year and Continent and find the min, median, and max values for both gdp per capita and life expectancy. Hint: You may want to use the <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.agg.html">agg method</a>.</h4>
<pre><code>a. Look at the columns of the resulting object. What do you notice?  
b. Select the median gdp per capita value for Asia in 2010.</code></pre>
<div id="e7a5ba63" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># grouping by year and continent and aggregating min, median, max for GDP and Life exp.</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>gdp_le_aggs <span class="op">=</span> gdp_le.groupby([<span class="st">"Year"</span>, <span class="st">"Continent"</span>])[</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"Life Expectancy"</span>, <span class="st">"GDP_Per_Capita"</span>]</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>].agg([<span class="st">"min"</span>, <span class="st">"median"</span>, <span class="st">"max"</span>])</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="co"># median gdp per capita for asia, 2010</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>display(</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Asia, 2010 median GDPpC = "</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> <span class="bu">str</span>(gdp_le_aggs.loc[(<span class="dv">2010</span>, <span class="st">"Asia"</span>)][(<span class="st">"GDP_Per_Capita"</span>, <span class="st">"median"</span>)])</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>'Asia, 2010 median GDPpC = 8602.903815568548'</code></pre>
</div>
</div>
<ul>
<li><strong>the columns are also labeled with tuples.</strong></li>
</ul>
</section>
<section id="in-this-question-well-see-how-the-median-gdp-per-capita-has-changed-over-time.-start-by-creating-a-series-gdp_median_per_year-by-grouping-by-the-year-variable-and-calculating-the-median-gdp-per-capita." class="level4">
<h4 class="anchored" data-anchor-id="in-this-question-well-see-how-the-median-gdp-per-capita-has-changed-over-time.-start-by-creating-a-series-gdp_median_per_year-by-grouping-by-the-year-variable-and-calculating-the-median-gdp-per-capita.">3. In this question, we’ll see how the median gdp per capita has changed over time. Start by creating a Series, gdp_median_per_year by grouping by the Year variable and calculating the median gdp per capita.</h4>
<pre><code>a. Convert gdp_median_per_year to a DataFrame by using the [reset_index method](https://pandas.pydata.org/docs/reference/api/pandas.Series.reset_index.html).  
b. The [shift method](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.shift.html) will allow you to compare values across rows. Use this method to create a new column showing the change in gdp per capita since the prior year.  
c. How many times was there a drop in median gdp per capita from one year to the next?  </code></pre>
<div id="cf106fc3" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>gdp_median_per_year <span class="op">=</span> gdp_le.groupby([<span class="st">'Year'</span>])[<span class="st">'GDP_Per_Capita'</span>].median().reset_index()</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="co"># create a new column showing the change in gdp per capita since the prior year.  </span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>gdp_median_per_year[<span class="st">'Shift'</span>] <span class="op">=</span> gdp_median_per_year[<span class="st">'GDP_Per_Capita'</span>].shift(periods<span class="op">=</span><span class="dv">1</span>).fillna(value<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>gdp_median_per_year[<span class="st">'Difference'</span>] <span class="op">=</span> gdp_median_per_year[<span class="st">'GDP_Per_Capita'</span>] <span class="op">-</span> gdp_median_per_year[<span class="st">'Shift'</span>]</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="co"># How many times was there a drop in median gdp per capita from one year to the next?</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>display(gdp_median_per_year[gdp_median_per_year[<span class="st">'Difference'</span>] <span class="op">&lt;</span> <span class="dv">0</span>][<span class="st">'GDP_Per_Capita'</span>].count())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>np.int64(7)</code></pre>
</div>
</div>
</section>
<section id="now-lets-expand-on-the-prior-question-to-find-the-change-in-gdp-from-year-to-year-for-each-country." class="level4">
<h4 class="anchored" data-anchor-id="now-lets-expand-on-the-prior-question-to-find-the-change-in-gdp-from-year-to-year-for-each-country.">4. Now, let’s expand on the prior question to find the change in GDP from year to year for each country.</h4>
<pre><code>a. Add a new column to the gdp_le DataFrame showing the change in gdp per capita from the prior year for that country. Hint: You can combine groupby with the shift method.  
b. Which country had the largest one year increase in gdp per capita? Which had the largest one year drop in gdp per capita?</code></pre>
<div id="c02f6336" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>gdp_le_countries_grouped <span class="op">=</span> gdp_le.groupby([<span class="st">'Country'</span>, <span class="st">'Year'</span>])[<span class="st">'GDP_Per_Capita'</span>].median().reset_index()</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>gdp_le_countries_grouped[<span class="st">"Previous Year's GDPPC"</span>] <span class="op">=</span> gdp_le_countries_grouped.groupby([<span class="st">'Country'</span>])[<span class="st">'GDP_Per_Capita'</span>].shift()</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>gdp_le_countries_grouped[<span class="st">'Difference'</span>] <span class="op">=</span> gdp_le_countries_grouped[<span class="st">'GDP_Per_Capita'</span>] <span class="op">-</span> gdp_le_countries_grouped[<span class="st">"Previous Year's GDPPC"</span>]</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>largest_increase <span class="op">=</span> gdp_le_countries_grouped[gdp_le_countries_grouped[<span class="st">"Difference"</span>] <span class="op">&gt;</span> <span class="dv">0</span>].sort_values(<span class="st">'Difference'</span>, ascending<span class="op">=</span><span class="va">False</span>).reset_index().iloc[<span class="dv">0</span>]</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>largest_decrease <span class="op">=</span> gdp_le_countries_grouped[gdp_le_countries_grouped[<span class="st">"Difference"</span>] <span class="op">&lt;</span> <span class="dv">0</span>].sort_values(<span class="st">'Difference'</span>).reset_index().iloc[<span class="dv">0</span>]</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>display([largest_increase, largest_decrease])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>[index                                2910
 Country                  Macao SAR, China
 Year                                 2011
 GDP_Per_Capita              135365.387353
 Previous Year's GDPPC       114042.495308
 Difference                   21322.892045
 Name: 0, dtype: object,
 index                                2919
 Country                  Macao SAR, China
 Year                                 2020
 GDP_Per_Capita               55158.712729
 Previous Year's GDPPC       122822.124456
 Difference                  -67663.411727
 Name: 0, dtype: object]</code></pre>
</div>
</div>
</section>
<section id="when-looking-at-time-series-data-there-can-often-be-a-large-amount-of-observation-to-observation-variability-making-it-more-difficult-to-see-general-trends.-this-variability-can-be-smoothed-out-by-calculating-rolling-averages.-well-see-how-in-this-question." class="level4">
<h4 class="anchored" data-anchor-id="when-looking-at-time-series-data-there-can-often-be-a-large-amount-of-observation-to-observation-variability-making-it-more-difficult-to-see-general-trends.-this-variability-can-be-smoothed-out-by-calculating-rolling-averages.-well-see-how-in-this-question.">5. When looking at time series data, there can often be a large amount of observation to observation variability, making it more difficult to see general trends. This variability can be smoothed out by calculating rolling averages. We’ll see how in this question.</h4>
<pre><code>a. First, filter gdp_le down to just the rows for the United States and save the result to a DataFrame named gdp_le_us.  
b. Use [rolling](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.rolling.html) to calculate the 3-year moving average of gdp per capita for the US.  
c. Plot both the original gdp per capita values and the rolling average on the same plot.</code></pre>
<div id="baf9a8a1" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>gdp_le_us <span class="op">=</span> gdp_le[gdp_le[<span class="st">'Country'</span>] <span class="op">==</span> <span class="st">'United States'</span>].sort_values(<span class="st">'Year'</span>)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>gdp_le_us[<span class="st">'3yr rolling avg - GDP'</span>] <span class="op">=</span> gdp_le_us[<span class="st">'GDP_Per_Capita'</span>].rolling(<span class="dv">3</span>).mean()</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="co"># display(gdp_le_us)</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>gdp_le_us.plot(</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">'line'</span>, x<span class="op">=</span><span class="st">'Year'</span>, y<span class="op">=</span>[<span class="st">'GDP_Per_Capita'</span>, <span class="st">'3yr rolling avg - GDP'</span>],</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'GDP per capita and 3 yr rolling average'</span>, </span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>    xlabel<span class="op">=</span><span class="st">'Year'</span>, ylabel<span class="op">=</span><span class="st">'GDP Per Capita ($)'</span>,</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="un-data_files/figure-html/cell-43-output-1.png" width="401" height="277" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="when-working-with-large-datasets-it-can-sometimes-pay-off-to-be-mindful-of-what-data-types-you-are-using-for-each-variable." class="level4">
<h4 class="anchored" data-anchor-id="when-working-with-large-datasets-it-can-sometimes-pay-off-to-be-mindful-of-what-data-types-you-are-using-for-each-variable.">6. When working with large datasets, it can sometimes pay off to be mindful of what data types you are using for each variable.</h4>
<pre><code>a. Create a new column, Continent_Category by converting the Continent column to a [category](https://pandas.pydata.org/docs/user_guide/categorical.html).  
b. Use the memory_usage method to compare the memory used by the original Continent column compared to the category version.  
c. You can also sometimes get speedups for groupby operations by using category datatypes. In Jupyter, if you want to estimate how long it takes to run a block of code, you can add the %%timeit magic to the top of a cell. Compare doing a groupby + aggregation on the original Continent column compared to the Continent_Category column.  
d. You can also sometimes save memory usage by adjusting the size that is stored for integer values. By default, the int64 type is used which can store values between –9223372036854775808 and 9223372036854775807. However, for the Year variable, we really don't need that large of a range. We could get by with a 16 bit integer, whose range is -32768 to 32768. Convert the Year column to int16 type and then compare the memory usage.  
e. Finally, you don't have to make these datatype changes after the data has been read in. Add some parameters to the read_csv call that imports the GDP data. Read in only the needed columns (not the Value Footnotes column). Also, read in the Country or Area column as a category type and the Year column as an int16 type.</code></pre>
<div id="abfa01ab" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>gdp_le[<span class="st">'Continent_Category'</span>] <span class="op">=</span> gdp_le[<span class="st">"Continent"</span>].astype(<span class="st">"category"</span>)</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>gdp_le[<span class="st">'Year'</span>] <span class="op">=</span> gdp_le[<span class="st">'Year'</span>].astype(<span class="st">'int16'</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>gdp_le.memory_usage()</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>gdp_df_bonus <span class="op">=</span> pd.DataFrame(pd.read_csv(<span class="st">"../data/gdp_per_capita.csv"</span>, usecols<span class="op">=</span><span class="bu">range</span>(<span class="dv">0</span>,<span class="dv">3</span>), dtype<span class="op">=</span>{<span class="st">'Year'</span>:<span class="st">'int16'</span>, <span class="st">'Country or Area'</span>:<span class="st">'category'</span>}))</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>display(gdp_df_bonus)</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>gdp_df_bonus.memory_usage()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Country or Area</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Afghanistan</td>
<td>2021</td>
<td>1517.016266</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Afghanistan</td>
<td>2020</td>
<td>1968.341002</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Afghanistan</td>
<td>2019</td>
<td>2079.921861</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Afghanistan</td>
<td>2018</td>
<td>2060.698973</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Afghanistan</td>
<td>2017</td>
<td>2096.093111</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7657</td>
<td>Zimbabwe</td>
<td>1994</td>
<td>2670.106615</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7658</td>
<td>Zimbabwe</td>
<td>1993</td>
<td>2458.783255</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7659</td>
<td>Zimbabwe</td>
<td>1992</td>
<td>2468.278257</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7660</td>
<td>Zimbabwe</td>
<td>1991</td>
<td>2781.787843</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7661</td>
<td>Zimbabwe</td>
<td>1990</td>
<td>2704.757299</td>
</tr>
</tbody>
</table>

<p>7662 rows × 3 columns</p>
</div>
</div>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>Index                128
Country or Area    25556
Year               15324
Value              61296
dtype: int64</code></pre>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>